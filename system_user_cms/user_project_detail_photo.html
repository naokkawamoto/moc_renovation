<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>案件管理（写真）</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap CSS (5系) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons CDN -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.min.css" rel="stylesheet" />
    <!-- カスタムCSS -->
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <!-- ヘッダー -->
    <div id="header-container"></div>

    <div class="container-fluid mt-4">
        <div class="row">
            <!-- 左カラム：案件リスト -->
            <div class="col-auto" style="width:200px;">
                <div style="height:80vh; overflow-y: scroll; overflow-x: hidden; padding-right:5px;">
                    <h5>案件リスト</h5>
                    <div class="list-group">
                        <a href="user_project_detail.html" class="list-group-item list-group-item-action">案件1</a>
                        <a href="user_project_detail.html" class="list-group-item list-group-item-action">案件2</a>
                        <a href="user_project_detail.html" class="list-group-item list-group-item-action">案件3</a>
                    </div>
                </div>
            </div>

            <!-- 中央カラム：メインコンテンツ -->
            <div class="col">
                <div style="height:80vh; overflow-y:auto; padding-right:5px;">
                    <!-- ■ 会社名＋案件名（左） & 案件フロー（右） -->
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <div class="text-start">
                            <h4 class="mb-0">会社名</h4>
                            <h3 class="mb-0 d-inline">案件名 <i class="bi bi-star"></i></h3>
                        </div>
                        <div class="text-end">
                            <span class="me-2">案件フロー:</span>
                            <select class="form-select form-select-sm me-2" style="width: auto; display: inline-block;">
                                <option value="preparation">準備中</option>
                                <option value="inprogress">進行中</option>
                                <option value="completed">完了</option>
                            </select>
                            <button class="btn btn-outline-primary btn-sm">変更</button>
                        </div>
                    </div>

                    <!-- ナビゲーションタブ -->
                    <ul class="nav nav-tabs mb-3">
                        <li class="nav-item"><a class="nav-link" href="user_project_detail.html">概要</a></li>
                        <li class="nav-item"><a class="nav-link active" href="user_project_detail_photo.html">写真</a></li>
                        <li class="nav-item"><a class="nav-link" href="user_project_detail_doc.html">資料</a></li>
                        <li class="nav-item"><a class="nav-link" href="user_project_detail_report.html">報告</a></li>
                        <li class="nav-item"><a class="nav-link" href="user_project_detail_order.html">発注</a></li>
                        <li class="nav-item"><a class="nav-link" href="user_project_detail_user.html">メンバー</a></li>
                        <li class="nav-item"><a class="nav-link" href="user_project_detail_3dview.html">３Dビュー</a></li>
                        <li class="nav-item"><a class="nav-link" href="user_project_detail_2dview.html">２Dビュー</a></li>
                        <li class="nav-item"><a class="nav-link" href="user_project_detail_chat.html">チャット</a></li>
                    </ul>

                    <!-- ■ 行1：タイトル＆操作ボタン -->
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h4>写真を管理する</h4>
                        <div>
                            <button class="btn btn-primary me-2">フォルダを追加</button>
                            <button class="btn btn-primary me-2">写真を追加</button>
                            <button class="btn btn-secondary">写真台帳</button>
                        </div>
                    </div>

                    <!-- ■ 行2：表示方法＆検索 -->
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <div class="d-flex align-items-center">
                            <span class="me-2">表示方法：</span>
                            <button class="btn btn-outline-primary me-2"><i class="bi bi-folder"></i></button>
                            <button class="btn btn-outline-secondary me-4"><i class="bi bi-list"></i></button>
                            <button class="btn btn-link me-2">撮影日順</button>
                            <button class="btn btn-link">追加日順</button>
                        </div>
                        <div class="input-group" style="width: 300px;">
                            <input type="text" class="form-control" placeholder="メモを検索">
                            <button class="btn btn-outline-secondary" type="button">検索</button>
                        </div>
                    </div>

                    <!-- ■ 写真カード：4行、合計50枚 -->
                    <div id="photo-container" class="d-flex flex-wrap"></div>

                    <!-- JSでカードを生成 -->
                    <script>
                        document.addEventListener("DOMContentLoaded", function() {
                            const container = document.getElementById("photo-container");
                            for (let i = 1; i <= 50; i++) {
                                const wrapper = document.createElement("div");
                                wrapper.style.width = "calc(100%/14)";
                                wrapper.style.padding = "0.5%";
                                wrapper.innerHTML = `
                                    <div class="card">
                                        <img src="../images/photo${i}.jpg" class="card-img-top" alt="写真${i}">
                                        <div class="card-body small-text">
                                            <p class="mb-1">撮影日: ${i <= 42 ?
                                                '2025/05/' + String(i).padStart(2,'0') :
                                                '2025/06/' + String(i-42).padStart(2,'0')}
                                            </p>
                                            <p class="mb-0">メモ: サンプルメモ${i}</p>
                                        </div>
                                    </div>`;
                                container.appendChild(wrapper);
                            }
                        });
                    </script>

                </div>
            </div>

            <!-- 右カラム：お知らせ -->
            <div class="col-auto" style="width:200px;">
                <div style="height:80vh; overflow-y: scroll; overflow-x: hidden; direction: rtl; padding-left:5px;">
                    <div style="direction: ltr;">
                        <h5>お知らせ</h5>
                        <ul class="list-group">
                            <li class="list-group-item">最新のお知らせ1</li>
                            <li class="list-group-item">最新のお知らせ2</li>
                            <li class="list-group-item">最新のお知らせ3</li>
                        </ul>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- フッター -->
    <div id="footer-container"></div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- カスタムスクリプト -->
    <script src="../style.js"></script>
    <!-- ヘッダー＆フッターの読み込み -->
    <script>
        fetch('user_header.html')
            .then(response => response.text())
            .then(data => document.getElementById('header-container').innerHTML = data);
        fetch('user_footer.html')
            .then(response => response.text())
            .then(data => document.getElementById('footer-container').innerHTML = data);
    </script>
</body>
</html>
