<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>案件管理（プラン詳細）</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.min.css" rel="stylesheet"/>
  <style>
    .container-fluid {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
    }
    /* テーブル文字サイズ */
    .info-table td,
    .info-table th,
    .estimate-table td,
    .estimate-table th {
      font-size: 0.7rem;
    }
    /* フロアカードの余白調整 */
    #floorView .col-6 {
      margin-top: 0;
      padding-top: 0;
    }
    /* 画像カラムの幅指定 */
    .img-col {
      width: 80%;
      padding-right: 0.5rem;
    }
    .table-col {
      width: 20%;
      padding-left: 0.5rem;
    }
    /* クリックで切り替わる画像 */
    #planImage {
      cursor: pointer;
      width: 100%;
      height: auto;
    }
  </style>
</head>
<body>
  <!-- ヘッダー -->
  <div id="header-container"></div>

  <div class="container-fluid mt-4 px-3">
    <div class="d-flex justify-content-between align-items-center mb-2">
      <div class="text-start">
        <h5 class="mb-0">会社名</h5>
        <!-- タイトルをクリックすると user_project_detail_design.html に戻る -->
        <h4 class="mb-0 d-inline">
          <a href="user_project_detail_design.html" class="text-decoration-none text-dark">
            プラン１ <i class="bi bi-pencil-square"></i>
          </a>
        </h4>
      </div>
      <button class="btn btn-primary" type="button" onclick="location.href='user_project_detail_design.html'">
        <i class="bi bi-arrow-return-left"></i> プラン一覧へ戻る
      </button>
    </div>

    <!-- Pill タブ -->
    <ul class="nav nav-pills mb-3">
      <li class="nav-item">
        <a class="nav-link active" href="#">1F</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">2F</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">敷地</a>
      </li>
    </ul>

    <!-- コンテンツエリア -->
    <div class="d-flex">
      <!-- 左側：画像カラム（幅 4/5 相当）-->
      <div class="img-col">
        <!-- 初期表示 plan_edit.webp。クリックすると plan_edit3d.webp に切り替える -->
        <img
          id="planImage"
          src="../images/plan_edit.webp"
          alt="プラン編集イメージ"
          onclick="
            const img = document.getElementById('planImage');
            img.src = (img.src.includes('plan_edit.webp') ? '../images/plan_edit3d.webp' : '../images/plan_edit.webp');
          "
        >
      </div>

      <!-- 右側：積算テーブルカラム（幅 1/5 相当）-->
      <div class="table-col">
        <table class="table table-bordered estimate-table mb-4">
          <thead class="table-light">
            <tr>
              <th>大区分</th>
              <th>中区分</th>
              <th>費用（円）</th>
            </tr>
          </thead>
          <tbody>
            <!-- 仮設費用 -->
            <tr>
              <td rowspan="2">仮設費用</td>
              <td>内訳１</td>
              <td class="text-end">100,000</td>
            </tr>
            <tr>
              <td>内訳２</td>
              <td class="text-end">120,000</td>
            </tr>
            <!-- 取り壊し費用 -->
            <tr>
              <td rowspan="2">取り壊し費用</td>
              <td>内訳１</td>
              <td class="text-end">200,000</td>
            </tr>
            <tr>
              <td>内訳２</td>
              <td class="text-end">220,000</td>
            </tr>
            <!-- プラン費用 -->
            <tr>
              <td rowspan="2">プラン費用</td>
              <td>内訳１</td>
              <td class="text-end">150,000</td>
            </tr>
            <tr>
              <td>内訳２</td>
              <td class="text-end">170,000</td>
            </tr>
            <!-- 工事費用 -->
            <tr>
              <td rowspan="2">工事費用</td>
              <td>内訳１</td>
              <td class="text-end">500,000</td>
            </tr>
            <tr>
              <td>内訳２</td>
              <td class="text-end">550,000</td>
            </tr>
            <!-- 建材費用 -->
            <tr>
              <td rowspan="2">建材費用</td>
              <td>内訳１</td>
              <td class="text-end">300,000</td>
            </tr>
            <tr>
              <td>内訳２</td>
              <td class="text-end">330,000</td>
            </tr>
            <!-- 合計行 -->
            <tr class="table-light">
                <td></td>
              <td class="text-end">合計金額（税別）</td>
              <td class="text-end">2,250,000</td>
            </tr>
            <tr class="table-light">
              <td></td>
              <td class="text-end">消費税10％</td>
              <td class="text-end">225,000</td>
            </tr>
            <tr class="table-light">
                <td></td>
              <td class="text-end">合計金額（税込）</td>
              <td class="text-end">2,475,000</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <!-- /.d-flex -->
  </div>
  <!-- /.container-fluid -->

  <!-- フッター -->
  <div id="footer-container"></div>

  <!-- Bootstrap & Popper -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../style.js"></script>
  <script>
    fetch('user_header.html').then(r => r.text()).then(html => document.getElementById('header-container').innerHTML = html);
    fetch('user_footer.html').then(r => r.text()).then(html => document.getElementById('footer-container').innerHTML = html);
  </script>
</body>
</html> 